#!/bin/bash

IP_LIST="ips.txt"
OUTPUT="http_https_results.txt"

echo "HTTP/HTTPS Connectivity Scan Started" > $OUTPUT
echo "-------------------------------------" >> $OUTPUT

while read ip; do
    echo "[+] Checking $ip" | tee -a $OUTPUT

    HTTP_STATUS=$(curl -s -o /dev/null -w "%{http_code}" --connect-timeout 5 http://$ip)
    HTTPS_STATUS=$(curl -k -s -o /dev/null -w "%{http_code}" --connect-timeout 5 https://$ip)

    echo "$ip : HTTP=$HTTP_STATUS | HTTPS=$HTTPS_STATUS" | tee -a $OUTPUT

done < $IP_LIST

echo "Scan Completed"
